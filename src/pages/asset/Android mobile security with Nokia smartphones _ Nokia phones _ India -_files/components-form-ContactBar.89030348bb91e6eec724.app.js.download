/*! For license information please see components-form-ContactBar.89030348bb91e6eec724.app.js.LICENSE */
(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[26],{344:function(e,t,s){s.r(t),s.d(t,"default",(function(){return b}));var o=s(1),r=s.n(o),a=s(0),n=s(2),i=s(17),l=s(57),c=s(65),h=s(28),m=s(19),d=s(24),u=Object(d.a)({resolved:{},chunkName:()=>"pureDesignSystem-elements-form-FormContainer",isReady(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!s.m[t]},importAsync:()=>Promise.all([s.e(0),s.e(3),s.e(5)]).then(s.bind(null,319)),requireAsync(e){var t=this,s=this.resolve(e);return this.resolved[s]=!1,this.importAsync(e).then((function(e){return t.resolved[s]=!0,e}))},requireSync(e){var t=this.resolve(e);return s(t)},resolve:()=>319});class b extends a.Component{constructor(e){super(e),this.formOpenRef=void 0,this.observer=void 0,this.targetElement=void 0,this.formVisibleObserver=e=>{for(var t of e){var s=t.boundingClientRect,o=t.rootBounds,r=t.intersectionRatio;o&&(s.bottom>o.top&&1===r?this.setState({showFormEnabled:!1,showExtraHeight:!1}):this.setState({showFormEnabled:!0}))}},this.showForm=()=>{document.body.classList.add("contact-bar-modal__open"),Object(c.disableBodyScroll)(this.targetElement),this.setState({formOpen:!0})},this.closeText=()=>{this.setState({showExtraHeight:!1})},this.showText=()=>{window.removeEventListener("scroll",this.showText),this.setState({showExtraHeight:!0}),this.props.autoPeekDuration&&setTimeout(this.closeText,this.props.autoPeekDuration)},this.closeForm=()=>{document.body.classList.add("contact-bar-modal__close"),Object(c.enableBodyScroll)(this.targetElement),setTimeout(()=>{this.setState({formOpen:!1}),document.body.classList.remove("contact-bar-modal__close"),document.body.classList.remove("contact-bar-modal__open")},300)},this.onChange=e=>{this.setState({values:e})},this.state={formOpen:!1,showFormEnabled:!0,showExtraHeight:!1},this.formOpenRef=a.createRef()}componentDidMount(){this.targetElement=document.querySelector("#modal-root"),this.formOpenRef.current&&this.formOpenRef.current&&(this.observer=new IntersectionObserver(this.formVisibleObserver,{threshold:[1]}),this.observer.observe(this.formOpenRef.current)),this.props.autoPeekDuration&&this.props.autoPeekDuration>0&&0===window.pageYOffset&&window.addEventListener("scroll",this.showText)}componentWillUnmount(){Object(c.clearAllBodyScrollLocks)(),this.formOpenRef.current&&this.observer.unobserve(this.formOpenRef.current)}render(){var{heading:e,text:t,form:s,contactbarTheme:o}=this.props;return(a.createElement(a.Fragment,null,a.createElement("div",{className:Object(n.default)("contact-bar","contact-bar--theme-".concat(o),{"contact-bar__close":!this.state.formOpen},{"contact-bar__showExtraHeight":this.state.showExtraHeight},{"contact-bar__disable-back-animation":!this.state.showFormEnabled})},e&&a.createElement("h3",{className:"contact-bar--heading pds-heading pds-heading--h3 pds-heading--label",onClick:this.state.showFormEnabled?this.showForm:void 0},e),this.state.showFormEnabled?a.createElement(h.b,{type:"ppPdsButtonElement",buttonType:this.state.showExtraHeight?"minus":"plus",buttonStyle:"dark-outline-transparent-borderless",buttonSize:"l",callback:this.closeText}):null,a.createElement("div",{className:"contact-bar-form-text",onClick:this.state.showFormEnabled?this.showForm:void 0},t&&this.state.showFormEnabled&&a.createElement(i.a,null,t))),a.createElement("div",{className:"contact-bar--ios-only"}),a.createElement("div",{ref:this.formOpenRef}),a.createElement("div",{className:"contact-bar-form",id:"contact-us"},a.createElement(m.b,null,a.createElement(m.c,null,!this.state.formOpen&&a.createElement(u,r()({},s,{initialValues:this.state.values,onChange:this.onChange,className:"contact-bar-form-container"})))),this.state.formOpen&&a.createElement(l.b,{theme:"light"},a.createElement("div",{className:"contact-bar-modal"},a.createElement(l.a,{closeButtonType:"minus",heading:e,theme:o,onClick:this.closeForm}),a.createElement(m.b,null,a.createElement(m.c,null,a.createElement(u,r()({},s,{initialValues:this.state.values,onChange:this.onChange,className:"contact-bar-form-container"})))))))))}}b.defaultProps={contactbarTheme:"light"}}}]);