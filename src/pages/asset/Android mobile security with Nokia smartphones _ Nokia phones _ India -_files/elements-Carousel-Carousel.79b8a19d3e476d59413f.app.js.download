/*! For license information please see elements-Carousel-Carousel.79b8a19d3e476d59413f.app.js.LICENSE */
(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[34],{312:function(e,t,a){a.r(t);var s=a(1),r=a.n(s),o=a(0),l=a(45);class n extends o.Component{render(){var{code:e,image:t,link:a,label:s,description:n}=this.props;return(o.createElement("a",{href:a||"#","data-gtm-cta":"recommended-accessories-"+e,className:"slick-slide"},o.createElement("div",{className:"slide__content"},s&&o.createElement("h6",{className:"pds-heading"},s),n&&o.createElement("p",{className:"pds-body"},n),t&&o.createElement(l.b,r()({},t,{asBackgroundImage:!1})))))}}var i=a(215),c=a(19),d=a(57),p=a(28),m=a(79);class h extends o.Component{render(){var{idx:e,mainImage:t,modalMainImage:a,backgroundImage:s,introContent:n,modalIntroContent:h,mainContent:u,closeButtonTop:g,closeButtonBottom:v,show:E,showAnimation:w,onNext:_,onPrev:y,onOpen:k,onClose:b}=this.props;return(o.createElement(o.Fragment,null,o.createElement("div",{className:"pds-slide pds-carousel-story","data-slide-id":e},o.createElement("div",{className:"pds-carousel-story__intro"},o.createElement("div",{className:"pds-carousel-story__main-image"},o.createElement(l.b,r()({className:"pds-background-image-set--carousel-main-image-"+e},t))),o.createElement(c.b,null,o.createElement(c.c,null,o.createElement(i.c,r()({},n,{internalFunctionCallbacks:k,useDataReveal:!1})))))),E&&o.createElement(d.b,{theme:"light",className:w?"pds-carousel-story-modal":"pds-carousel-story-modal pds-carousel-story-modal--no-animation"},g&&o.createElement("div",{className:"pds-modal__close"},o.createElement(p.b,r()({callback:b},g))),o.createElement("div",{className:"pds-carousel-story"},o.createElement("div",{className:"pds-carousel-story__intro"},o.createElement("div",{className:"pds-background-cover"},s&&o.createElement(l.b,s)),o.createElement("div",{className:"pds-carousel-story__main-image"},o.createElement(l.b,a)),o.createElement(c.b,null,o.createElement(c.c,{className:"pds-grid--modal-intro"},o.createElement(i.c,r()({},h,{buttons:[],useDataReveal:!1}))))),u&&o.createElement("div",{className:"pds-carousel-story__main"},u.map((e,t)=>e&&"ppPdsContentBlockElement"===e.type?o.createElement(c.b,{key:t},o.createElement(c.c,null,o.createElement(i.c,e))):e&&"ppPdsImageSetElement"===e.type?o.createElement(l.b,r()({key:t,asBackgroundImage:!1},e)):void 0),o.createElement("div",{className:"pds-carousel-story-nav"},o.createElement("button",{className:"pds-carousel-story-nav__prev",onClick:y},o.createElement(m.a,{size:"m",color:"black",icon:"arrow-left"})),o.createElement("button",{className:"pds-carousel-story-nav__next",onClick:_},o.createElement(m.a,{size:"m",color:"black",icon:"arrow-right"}))),v&&o.createElement("div",{className:"pds-modal__close--bottom"},o.createElement(p.b,r()({callback:b},v))))))))}}var u,g=a(108),v=a.n(g),E=a(96),w=a(15),_=a(65),y=a(2),k=a(221);class b extends o.PureComponent{render(){return o.createElement("div",{className:"pds-carousel-story-pager ".concat(this.props.bottomSpacing?"pds-carousel-story-pager-bottom-spacing":"")},o.createElement("div",{className:"pds-carousel-story-nav"},o.createElement("button",{className:"pds-carousel-story-nav__prev",onClick:()=>this.props.previous()},o.createElement(m.a,{size:"m",color:"white",icon:"arrow-left"})),o.createElement("button",{className:"pds-carousel-story-nav__next",onClick:()=>this.props.next()},o.createElement(m.a,{size:"m",color:"white",icon:"arrow-right"}))),o.createElement("div",{className:"pds-carousel-story-pager__track"},o.createElement("div",{ref:this.props.pagerTrackCurrentRef,className:"pds-carousel-story-pager__track__current",style:{width:(100/this.props.pagerTotal).toString()+"%"}})),o.createElement("div",{className:"pds-carousel-story-pager__counter"},o.createElement("span",{ref:this.props.pagerCurrentRef,className:"pds-heading pds-carousel-story-pager__counter__current"},this.props.currentPage<10?"0"+this.props.currentPage:this.props.currentPage),o.createElement("span",{className:"pds-heading pds-carousel-story-pager__counter__separator"},"/"),o.createElement("span",{className:"pds-heading pds-carousel-story-pager__counter__total"},this.props.pagerTotal<10?"0"+this.props.pagerTotal:this.props.pagerTotal)))}}a.d(t,"default",(function(){return T}));class T extends o.Component{constructor(e,t){super(e,t),this.slider=void 0,this.targetElement=void 0,this.pagerTrackCurrent=void 0,this.pagerCurrent=void 0,this.carouselBackground=void 0,this.sliderSettings=void 0,this.carouselType=void 0;var{carouselItems:a}=e,s=a.length;this.carouselType=s>0?a[0].type:void 0,this.state={modals:a.map(()=>!1),animate:!0,currentPage:1,pagerTotal:s},this.carouselType&&("ppPdsCarouselStoryContent"===this.carouselType?this.sliderSettings={dots:!1,arrows:!1,infinite:!0,speed:300,slidesToShow:1,slidesToScroll:1,centerPadding:"12%",centerMode:!0,beforeChange:(e,t)=>{if(e!==t){if(this.handlePager(t),u){window.clearTimeout(u);for(var a=this.carouselBackground.current.querySelectorAll(".active"),s=0;s<a.length;s++)a[s].classList.remove("active","pds-fade-in")}var r=this.carouselBackground.current.querySelector(".pds-background-image-set--slider-background-"+t);r&&(r.classList.add("active","pds-fade-in"),u=window&&window.setTimeout(()=>{r.classList.remove("pds-fade-in")},2e3))}}}:"ppPdsCarouselItemElement"===this.carouselType?this.sliderSettings={dots:!1,arrows:!1,infinite:!0,speed:300,slidesToShow:3,slidesToScroll:3,centerPadding:"10%",centerMode:!0,responsive:[{breakpoint:w.a.TABLET_MAX_WIDTH,settings:{adaptiveHeight:!1,slidesToShow:2,slidesToScroll:2,arrows:!1,dots:!0}},{breakpoint:w.a.PHONE_MAX_WIDTH,settings:{adaptiveHeight:!1,slidesToShow:1,slidesToScroll:1,initialSlide:1,arrows:!1,dots:!0}}]}:"ppPdsHero"===this.carouselType&&(this.sliderSettings={autoplay:!0,autoplaySpeed:5e3,dots:!1,arrows:!1,infinite:!0,slidesToShow:1,slidesToScroll:1,beforeChange:(e,t)=>{e!==t&&this.handlePager(t)},responsive:[{breakpoint:w.a.TABLET_MAX_WIDTH,settings:{adaptiveHeight:!1,slidesToShow:1,slidesToScroll:1,arrows:!1,dots:!1}},{breakpoint:w.a.PHONE_MAX_WIDTH,settings:{adaptiveHeight:!1,slidesToShow:1,slidesToScroll:1,arrows:!1,dots:!1}}]})),this.pagerTrackCurrent=o.createRef(),this.pagerCurrent=o.createRef(),this.carouselBackground=o.createRef()}componentDidMount(){if(this.targetElement=document.querySelector("#modal-root .pds-modal__container"),this.targetElement=document.querySelector("#modal-root .pds-modal__container"),window.location.hash.length>1){var e=this.props.carouselItems.findIndex(e=>e.deepLinkId&&e.deepLinkId===window.location.hash.substr(1));-1!==e&&this.openModal(e)}}componentWillUnmount(){Object(_.clearAllBodyScrollLocks)()}next(){this.slider.slickNext()}previous(){this.slider.slickPrev()}handlePager(e){this.pagerTrackCurrent.current.style.transform="translateX("+100*e+"%)",this.pagerCurrent.current.innerHTML=e<10?"0"+(e+1):e+1,this.props.carouselItems[e].deepLinkId?history.replaceState(null,"",window.location.pathname+window.location.search+"#"+this.props.carouselItems[e].deepLinkId):window.location.hash.length>1&&history.replaceState(null,"",window.location.pathname+window.location.search)}render(){var{sectionOptions:e,contentBlock:t,carouselItems:a}=this.props,{pagerTotal:s}=this.state;return o.createElement(E.a,r()({className:"pds-carousel section--default-align"},e),"ppPdsCarouselStoryContent"===this.carouselType&&o.createElement("div",{className:"pds-slider",dir:"ltr"},o.createElement("div",{ref:this.carouselBackground,className:"pds-slider-background"},a.map((e,t)=>{var a=e.backgroundImage,s=Object(y.default)({["pds-background-image-set--slider-background-".concat(t)]:!0,active:0===t});return a?o.createElement(l.b,r()({key:t,className:s,useDataReveal:!1},a)):o.createElement("div",{className:s})})),o.createElement(v.a,r()({ref:e=>this.slider=e},this.sliderSettings),a.map((e,t)=>o.createElement(h,r()({key:t},e,{show:this.state.modals[t],showAnimation:this.state.animate,onPrev:()=>this.toggleImageModal(t-1,!1,"prev"),onNext:()=>this.toggleImageModal(t+1,!1,"next"),onOpen:()=>this.openModal(t),onClose:()=>this.closeModal()})))),o.createElement(b,{next:()=>this.next(),previous:()=>this.previous(),pagerTrackCurrentRef:this.pagerTrackCurrent,pagerCurrentRef:this.pagerCurrent,pagerTotal:s,bottomSpacing:!0,currentPage:this.state.currentPage})),"ppPdsCarouselItemElement"===this.carouselType&&o.createElement(i.c,t,o.createElement("div",{className:"pds-full-viewport-width"},o.createElement("div",{className:"pds-slider",dir:"ltr"},o.createElement(v.a,r()({ref:e=>this.slider=e},this.sliderSettings),a.map((e,t)=>o.createElement(n,r()({key:t},e))))))),"ppPdsHero"===this.carouselType&&o.createElement("div",{className:"pds-slider pds-slider--hero",dir:"ltr"},o.createElement("button",{className:"pds-carousel-hero-nav-prev",onClick:()=>this.previous()},o.createElement(m.a,{size:"xl",color:"white",icon:"arrow-left"})),o.createElement("button",{className:"pds-carousel-hero-nav-next",onClick:()=>this.next()},o.createElement(m.a,{size:"xl",color:"white",icon:"arrow-right"})),o.createElement(b,{next:()=>this.next(),previous:()=>this.previous(),pagerTrackCurrentRef:this.pagerTrackCurrent,pagerCurrentRef:this.pagerCurrent,pagerTotal:s,currentPage:this.state.currentPage}),o.createElement(v.a,r()({ref:e=>this.slider=e},this.sliderSettings),a.map((e,t)=>o.createElement("div",{className:"pds-full-viewport-width",key:t},o.createElement(k.a,r()({},e,{type:"ppPdsHero"})))))))}toggleImageModal(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"next",s=[...this.state.modals];e<0?e=s.length-1:e>=s.length&&(e=0);for(var r=0;r<s.length;r++)s[r]=e===r;this.setState({modals:s,animate:t}),"next"===a?this.next():this.previous()}closeModal(){for(var e=[...this.state.modals],t=0;t<e.length;t++)e[t]=!1;window.location.hash.length>1&&this.props.carouselItems.find(e=>e.deepLinkId&&e.deepLinkId===window.location.hash.substr(1))&&history.replaceState(null,"",window.location.pathname+window.location.search),document.body.classList.add("pds-modal-close"),Object(_.enableBodyScroll)(this.targetElement),setTimeout(()=>{this.setState({modals:e}),document.body.classList.remove("pds-modal-close")},300)}openModal(e){var t=[...this.state.modals];e<0?e=t.length-1:e>=t.length&&(e=0);for(var a=0;a<t.length;a++)t[a]=e===a,e===a&&this.props.carouselItems[e].deepLinkId&&history.replaceState(null,"",window.location.pathname+window.location.search+"#"+this.props.carouselItems[e].deepLinkId);this.setState({modals:t,animate:!0}),Object(_.disableBodyScroll)(this.targetElement)}}}}]);