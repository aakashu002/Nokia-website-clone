!function(){return function t(e,o,r){function a(i,p){if(!o[i]){if(!e[i]){var s="function"==typeof require&&require;if(!p&&s)return s(i,!0);if(n)return n(i,!0);var d=new Error("Cannot find module '"+i+"'");throw d.code="MODULE_NOT_FOUND",d}var c=o[i]={exports:{}};e[i][0].call(c.exports,function(t){return a(e[i][1][t]||t)},c,c.exports,t,e,o,r)}return o[i].exports}for(var n="function"==typeof require&&require,i=0;i<r.length;i++)a(r[i]);return a}}()({1:[function(t,e,o){"use strict";!function(t){var e,o,r,a,n="https://gravitocdn.blob.core.windows.net/tcf-v2",i=[],p="https://handshake.gravito.net";t.gravitoData={};var s=function(){};t.gravito=new s,s.prototype.loadConfig=function(e,o){var r=new XMLHttpRequest;r.open("get",e,!0),r.setRequestHeader("Cache-Control","max-age=<3600>"),r.setRequestHeader("Content-type","application/json"),r.responseType="json",r.onreadystatechange=function(e){if(r.readyState==XMLHttpRequest.DONE&&200==r.status){var a="string"==typeof r.response?JSON.parse(r.response):r.response;return t.gravitoCMPConfig=a,void o()}},r.send()},s.prototype.initLightCMPWithBackendandGCM=function(e,o,r){o&&(p=o),t.dataLayer=t.dataLayer||[],t.grvgoogleconsentmode=!0,s.prototype.consentReciverForLightCMP(),s.prototype.initLightCMPWithBackend(e,r)},s.prototype.initLightCMPWithBackend=function(e,o,r){o&&(p=o),s.prototype.getProfile(function(){s.prototype.addToDataLayer("deviceId",gravitoData.profile.gravitoOpUid),s.prototype.addToDataLayer("UID",gravitoData.profile.id),t.gravitoCMPConfig&&t.gravitoCMPConfig.core.withBackendIntegration&&(s.prototype.initLightCMP(e,r),s.prototype.bootstrapLightCMPSupperWrapper())})},s.prototype.initLightCMPWithGCM=function(e,o){t.dataLayer=t.dataLayer||[],t.grvgoogleconsentmode=!0,s.prototype.consentReciverForLightCMP(),s.prototype.initLightCMP(e,o)},s.prototype.initLightCMP=function(t,e){r=t,a=e,s.prototype.bootstrapLightCMPWrapper()},s.prototype.initTCFCMP=function(t,r,a){n=t=t||"https://cdn.gravito.net/tcf-v2",e=r,o=a,s.prototype.bootstrapTCFCMPWrapper()},s.prototype.initTCFCMPWithBackend=function(e,o,r,a){gravitoCMPConfig.core.withBackendIntegration=!0,r&&(p=r),e=e||"https://cdn.gravito.net/tcf-v2",s.prototype.getProfile(function(){s.prototype.addToDataLayer("deviceId",gravitoData.profile.gravitoOpUid),s.prototype.addToDataLayer("UID",gravitoData.profile.id),t.gravitoCMPConfig&&t.gravitoCMPConfig.core.withBackendIntegration&&(s.prototype.initTCFCMP(e,o,a),s.prototype.bootstrapSupperWrapper())})},s.prototype.init=function(){s.prototype.getProfile(function(){s.prototype.addToDataLayer("deviceId",gravitoData.profile.gravitoOpUid),s.prototype.addToDataLayer("UID",gravitoData.profile.id),t.gravitoCMPConfig&&t.gravitoCMPConfig.core.withBackendIntegration&&(s.prototype.initTCFCMP(),s.prototype.bootstrapSupperWrapper())})},s.prototype.testCookieWrite=function(t){try{document.cookie="cookietest=1"+(t?"; domain="+t:"");var e=-1!=document.cookie.indexOf("cookietest=");return document.cookie="cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT"+(t?"; domain="+t:""),e}catch(o){return!1}},s.prototype.testLocalStorage=function(){var t="modernizr";try{return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch(e){return!1}},s.prototype.testSessionStorage=function(){var t="modernizr";try{return sessionStorage.setItem(t,t),sessionStorage.removeItem(t),!0}catch(e){return!1}},s.prototype.ready=function(e){"loading"!=document.readyState?e():t.addEventListener?t.addEventListener("DOMContentLoaded",e):t.attachEvent("onreadystatechange",function(){"loading"!=document.readyState&&e()})},s.prototype.isItSafari=function(){return!!/.*Version.*Safari.*/.test(navigator.userAgent)},s.prototype.once=function(t,e){var o;return function(){return t&&(o=t.apply(e||this,arguments),t=null),o}},s.prototype.isVisible=function(e){var o=t.getComputedStyle(e);return 0!==o.getPropertyValue("opacity")&&"none"!==o.getPropertyValue("display")&&"hidden"!==o.getPropertyValue("visibility")&&0!==parseInt(e.style.opacity,10)&&"none"!==e.style.display&&"hidden"!==e.style.visibility},s.prototype.getProfile=function(t){var e=new XMLHttpRequest;e.open("POST",p+"/api/ap?includeProfile=true&includeCampaign=true&includeProfileHistory=true&includeSharedProfileHistory=true",!0),e.withCredentials=!0,null!=gravitoData.profile&&void 0!==gravitoData.profile.gravitoOpUid&&!0===s.prototype.isItSafari()&&e.setRequestHeader("g-op-uid",gravitoData.profile.gravitoOpUid),e.onreadystatechange=function(o){if(e.readyState==XMLHttpRequest.DONE&&200==e.status){var r=JSON.parse(o.target.response);gravitoData.profile=r,s.prototype.persistDataLayer(),s.prototype.legacyMapping(),"function"==typeof t&&t(r)}},e.send()},s.prototype.legacyMapping=function(){void 0!==gravitoData.profile.gravitoOpUid&&localStorage.setItem("gravitoOPUid",gravitoData.profile.gravitoOpUid)},s.prototype.persistDataLayer=function(){localStorage.setItem("gravitoData",JSON.stringify(gravitoData))},s.prototype.loadDataLayer=function(){gravitoData=JSON.parse(localStorage.getItem(gravitoData))},s.prototype.addToDataLayer=function(t,e){gravitoData[t]=e,s.prototype.persistDataLayer()},s.prototype.createUUID=function(){var t=(new Date).getTime(),e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var o=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?o:3&o|8).toString(16)});return e+"-"+String.fromCharCode(65+Math.floor(26*Math.random()))+(Math.floor(899*Math.random())+100).toString()},s.prototype.MD5=function(t){return function(t){for(var e,o="0123456789ABCDEF",r="",a=0;a<t.length;a++)e=t.charCodeAt(a),r+=o.charAt(e>>>4&15)+o.charAt(15&e);return r}(function(t){for(var e="",o=0;o<32*t.length;o+=8)e+=String.fromCharCode(t[o>>5]>>>o%32&255);return e}(Y(function(t){for(var e=Array(t.length>>2),o=0;o<e.length;o++)e[o]=0;for(o=0;o<8*t.length;o+=8)e[o>>5]|=(255&t.charCodeAt(o/8))<<o%32;return e}(t),8*t.length))).toLowerCase()},s.prototype.sendMagicLink=function(e){var o=new XMLHttpRequest;o.open("POST","https://handshake.gravito.net/api/account/magiclink",!0),o.setRequestHeader("Content-type","application/json"),o.onreadystatechange=function(t){return o.readyState==XMLHttpRequest.DONE&&200==o.status||(o.readyState==XMLHttpRequest.DONE&&400==o.status?(JSON.parse(o.response),!1):void 0)},o.send(JSON.stringify({email:e,domain:t.location.hostname}))},s.prototype.xhrPost=function(t,e){var o=new XMLHttpRequest;o.open("POST",t,!0),o.withCredentials=!0,o.send(JSON.stringify(e)),o.onreadystatechange=function(t){if(o.readyState==XMLHttpRequest.DONE&&200==o.status)return e}},s.prototype.sendEvent=function(t,e,o){try{var r="https://handshake.gravito.net/api/listen?event="+t+"&"+e;void 0!==gravitoData.profile&&(void 0!==gravitoData.profile.gravitoOpUid&&!0===s.prototype.isItSafari()&&(r+="&gopuid="+gravitoData.profile.gravitoOpUid),(new Image).src=r)}catch(a){console.log(a)}},gravitoData.writeCookie=s.prototype.testCookieWrite(),gravitoData.writeLocalStorage=s.prototype.testLocalStorage(),gravitoData.isItSafari=s.prototype.isItSafari(),s.prototype.addEventListenerToSW=function(e){e.addEventListener("gravito:tcfv2:client",function(e){if(i.push(e.detail.eventType),t.gravitoCMPConfig.core.syncEvents.includes(e.detail.eventType)){var o=s.prototype.getCookieData("gravitoData"),r=o?s.prototype.encodeNonTCFVendors(o):null;return s.prototype.sendToBackend(r),void(i=[])}})},s.prototype.sendToBackend=function(t){if(t){var e=p+"/api/listen?event=consent&gravitoData="+encodeURIComponent(JSON.stringify(t));(new Image).src=e}},s.prototype.fetchDataFromBackend=function(e){var o=t.gravitoData.profile,r=o.sharedConsolidatedProfile&&!s.prototype.isEmptyObject(o.sharedConsolidatedProfile)?o.sharedConsolidatedProfile:o.consolidatedProfile?o.consolidatedProfile:null;e(r?r.gravitoData:null)},s.prototype.isEmptyObject=function(t){return 0===Object.keys(t).length},s.prototype.encodeNonTCFVendors=function(t){for(var e=JSON.parse(t),o=e.NonTCFVendors,r=0;r<o.length;r++)o[r].name=encodeURIComponent(o[r].name);return e.NonTCFVendors=o,e},s.prototype.getCookieData=function(t){for(var e=t+"=",o=decodeURIComponent(document.cookie).split(";"),r=0;r<o.length;r++){for(var a=o[r];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(e))return a.substring(e.length,a.length)}return""},s.prototype.getCookieDomain=function(){return t.gravitoCMPConfig.core.useTopDomain?t.location.hostname.split(".").reverse()[1]+"."+t.location.hostname.split(".").reverse()[0]:t.location.hostname},s.prototype.writeGravtioDataCookie=function(e){var o=e,r=new Date,a=s.prototype.getCookieDomain(),n=t.gravitoCMPConfig.core.cookieExpiry;r.setTime(+r+864e5*n),document.cookie="gravitoData="+o+"; expires="+r.toGMTString()+"; path=/; domain="+a},s.prototype.writeEncodedGravtioDataCookie=function(e){var o=encodeURIComponent(e),r=new Date,a=s.prototype.getCookieDomain(),n=t.gravitoCMPConfig.core.cookieExpiry;r.setTime(+r+864e5*n),document.cookie="gravitoData="+o+"; expires="+r.toGMTString()+"; path=/; domain="+a},s.prototype.writeGlobalScopeCookie=function(t){var e=new XMLHttpRequest,o="https://gravito.mgr.consensu.org/?w="+t;e.open("get",o,!0),e.withCredentials=!0,e.onload=function(){e.status},e.send()},s.prototype.writeTcStringCookie=function(e){var o=new Date,r=t.gravitoCMPConfig.core.cookieName,a=s.prototype.getCookieDomain(),n=t.gravitoCMPConfig.core.cookieExpiry;o.setTime(+o+864e5*n),document.cookie=r+"="+e+"; expires="+o.toGMTString()+"; path=/; domain="+a,t.gravitoCMPConfig.core.isServiceSpecific||s.prototype.writeGlobalScopeCookie(e)},s.prototype.getDataFromServer=function(){s.prototype.fetchDataFromBackend(function(e){var o=e?JSON.parse(e).TCString:null,r=e;r&&s.prototype.writeGravtioDataCookie(r),o&&s.prototype.writeTcStringCookie(o),t.postMessage({senderId:"gravitoCMPSuperWrapper",status:"ready"},"*")})},s.prototype.bootstrapSupperWrapper=function(){s.prototype.getDataFromServer(),t.addEventListener("message",function(e){var o=e.data;if("gravitoCMP"===o.senderId)switch(o.type){case"cmp-status":"cmp-loaded"===o.status&&s.prototype.addEventListenerToSW(t.gravitoCMP.element)}})},s.prototype.broswerSupportsSymbol=function(){return!!t.Symbol},s.prototype.browserSupportsES6=function(){try{return new Function("(a = 0) => a"),!0}catch(t){return!1}},s.prototype.addPolyfillsForTCFCMP=function(){var t,e=s.prototype.broswerSupportsSymbol(),o=s.prototype.browserSupportsES6();return!1===e&&!1===o?((t=document.createElement("script")).src="https://polyfill.io/v3/polyfill.min.js?features=es6%2CSymbol",t.addEventListener("load",function(){s.prototype.addTCFCMPBundles()}),void document.head.appendChild(t)):!0===e&&!1===o?((t=document.createElement("script")).src="https://polyfill.io/v3/polyfill.min.js?features=es6",t.addEventListener("load",function(){s.prototype.addTCFCMPBundles()}),void document.head.appendChild(t)):!1===e&&!0===o?((t=document.createElement("script")).src="https://polyfill.io/v3/polyfill.min.js?features=Symbol",t.addEventListener("load",function(){s.prototype.addTCFCMPBundles()}),void document.head.appendChild(t)):void s.prototype.addTCFCMPBundles()},s.prototype.getBundleName=function(t,e){return e?"bundle"===t?"/"+e+".js":"/ui"+e+".js":"/"+t+"_latest.js"},s.prototype.addTCFCMPBundles=function(){var t=e?e+s.prototype.getBundleName("uibundle",o):"dist/uibundle.js",r=e?e+s.prototype.getBundleName("bundle",o):"dist/bundle.js",a=document.createElement("script");a.src=r,a.async="true",a.addEventListener("load",function(){var e=document.createElement("script");e.src=t,document.head.appendChild(e)}),document.head.appendChild(a)},s.prototype.addTCFCMPStub=function(){var t=document.createElement("script");t.innerHTML='"use strict";!function(){var e=function(){var e,t="__tcfapiLocator",a=[],n=window;for(;n;){try{if(n.frames[t]){e=n;break}}catch(e){}if(n===window.top)break;n=n.parent}e||(!function e(){var a=n.document,r=!!n.frames[t];if(!r)if(a.body){var s=a.createElement("iframe");s.style.cssText="display:none",s.name=t,a.body.appendChild(s)}else setTimeout(e,5);return!r}(),n.__tcfapi=function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return a;if("setGdprApplies"===n[0])n.length>3&&2===parseInt(n[1],10)&&"boolean"==typeof n[3]&&(e=n[3],"function"==typeof n[2]&&n[2]("set",!0));else if("ping"===n[0]){var s={gdprApplies:e,cmpLoaded:!1,cmpStatus:"stub"};"function"==typeof n[2]&&n[2](s)}else a.push(n)},n.addEventListener("message",(function(e){var t="string"==typeof e.data,a={};try{a=t?JSON.parse(e.data):e.data}catch(e){}var n=a.__tcfapiCall;n&&window.__tcfapi(n.command,n.version,(function(a,r){var s={__tcfapiReturn:{returnValue:a,success:r,callId:n.callId}};t&&(s=JSON.stringify(s)),e&&e.source&&e.source.postMessage&&e.source.postMessage(s,"*")}),n.parameter)}),!1))};"undefined"!=typeof module?module.exports=e:e()}();',document.head.appendChild(t)},s.prototype.addTCFCMPPrivateConfig=function(){t.gravitoCMP={baseUrl:n}},s.prototype.createTCFCMPDataLayer=function(){t.gravitoData={},t.gravitoData.CMP={}},s.prototype.initTCFCMPDataLayer=function(){t.gravitoData?t.gravitoData.CMP={}:s.prototype.createTCFCMPDataLayer()},s.prototype.bootstrapTCFCMPWrapper=function(){s.prototype.addTCFCMPPrivateConfig(),s.prototype.addTCFCMPStub(),s.prototype.addPolyfillsForTCFCMP(),s.prototype.initTCFCMPDataLayer()},s.prototype.addPolyfillsForLightCMP=function(){if(s.prototype.broswerSupportsSymbol())s.prototype.addLightCMPBundles();else{var t=document.createElement("script");t.src="https://polyfill.io/v3/polyfill.min.js?features=es6",t.addEventListener("load",function(){s.prototype.addLightCMPBundles()}),document.head.appendChild(t)}},s.prototype.addLightCMPBundles=function(){var t=r?r+s.prototype.getBundleName("uibundle",a):"dist/uibundle.js",e=r?r+s.prototype.getBundleName("bundle",a):"dist/bundle.js",o=document.createElement("script");o.src=e,o.async="true",o.addEventListener("load",function(){var e=document.createElement("script");e.src=t,document.head.appendChild(e)}),document.head.appendChild(o)},s.prototype.addLightCMPPrivateConfig=function(){t.gravitoLightCMP={baseUrl:""}},s.prototype.initLightCMPDataLayer=function(){t.gravitoData?t.gravitoData.lightCMP={}:createDataLayer()},s.prototype.createLightCMPDataLayer=function(){t.gravitoData={},t.gravitoData.lightCMP={}},s.prototype.bootstrapLightCMPWrapper=function(){s.prototype.addLightCMPPrivateConfig(),s.prototype.addPolyfillsForLightCMP(),s.prototype.initLightCMPDataLayer()},s.prototype.sendDefaultConsentsForLightCMP=function(){try{s.prototype.gtag("consent","default",{ad_storage:"denied",analytics_storage:"denied"})}catch(t){console.log("error while sending default consents to google")}},s.prototype.sendUpdatedConsentsForLightCMP=function(t){try{s.prototype.gtag("consent","update",{ad_storage:t.googleAds&&t.googleAds.isPresent&&t.googleAds.isConsented?"granted":"denied",analytics_storage:t.googleAnalytics&&t.googleAnalytics.isPresent&&t.googleAnalytics.isConsented?"granted":"denied"})}catch(e){console.log("error while sending updated consents to google")}},s.prototype.gtag=function(){dataLayer.push(arguments)},s.prototype.consentReciverForLightCMP=function(){t.addEventListener("message",function(t){var e=t.data;if("gravitoLightCMP"===e.senderId)switch(e.type){case"grv-light-cmp-status":"lightcmp-previousconsents"===e.status?s.prototype.sendUpdatedConsentsForLightCMP(e.consents):"lightcmp-updatedconsents"===e.status?s.prototype.sendUpdatedConsentsForLightCMP(e.consents):"lightcmp-nocookie"===e.status&&s.prototype.sendDefaultConsentsForLightCMP()}})},s.prototype.sendDataToBackendLightCMP=function(t){if(t){var e=p+"/api/listen?event=consent&gravitoDataLightCMP="+encodeURIComponent(JSON.stringify(t));(new Image).src=e}},s.prototype.addEventListenerToLightCMPSW=function(e){e.addEventListener("gravito:cmp:light",function(e){if(i.push(e.detail.eventType),t.gravitoCMPConfig.core.syncEvents.includes(e.detail.eventType)){var o=s.prototype.getCookieData("gravitoData"),r=o?JSON.parse(o):null;return s.prototype.sendDataToBackendLightCMP(r),void(i=[])}})},s.prototype.fetchDataFromBackendLightCMP=function(e){var o=t.gravitoData.profile,r=o.sharedConsolidatedProfile&&!s.prototype.isEmptyObject(o.sharedConsolidatedProfile)?o.sharedConsolidatedProfile:o.consolidatedProfile?o.consolidatedProfile:null;e(r?r.gravitoDataLightCMP:null)},s.prototype.writeGCStringCookie=function(e){var o=new Date,r=t.gravitoCMPConfig.core.cookieName,a=s.prototype.getCookieDomain(),n=t.gravitoCMPConfig.core.cookieExpiry;o.setTime(+o+864e5*n),document.cookie=r+"="+encodeURIComponent(e)+"; expires="+o.toGMTString()+"; path=/; domain="+a},s.prototype.getDataFromServerLightCMP=function(){s.prototype.fetchDataFromBackendLightCMP(function(e){var o=e?JSON.parse(e):null,r=o?o.GCString:null;o&&s.prototype.writeEncodedGravtioDataCookie(e),r&&s.prototype.writeGCStringCookie(r),t.postMessage({senderId:"gravitoLightCMPSuperWrapper",status:"ready"},"*")})},s.prototype.bootstrapLightCMPSupperWrapper=function(){s.prototype.getDataFromServerLightCMP(),t.addEventListener("message",function(e){var o=e.data;if("gravitoLightCMP"===o.senderId)switch(o.type){case"cmp-status":"light-cmp-loaded"===o.status&&s.prototype.addEventListenerToLightCMPSW(t.gravitoLightCMP.element)}})}}(window)},{}]},{},[1]);